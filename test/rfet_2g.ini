$py(
# ============================================
# RFET 2G Device Definition
# 2-Gate Reconfigurable FET on SOI
# Based on experimental device from collaborators
# ============================================
# Lateral: SG (300nm) - gap (200nm) - DG (300nm)
# Vertical: SUB (100nm) - BOX (20nm) - Si (20nm) - GOX (4nm)

# Lateral dimensions (nm)
L_total = 800           # Total channel length
L_sg = 300              # Source gate length
L_gap = 200             # Gap between gates
L_dg = 300              # Drain gate length

x0 = 0                  # Left boundary (source)
x_sg_end = 300          # End of SG region
x_dg_start = 500        # Start of DG region
xL = 800                # Right boundary (drain)

# Vertical dimensions (nm)
y_sub_bot = -120        # Bottom of Si substrate (handle wafer)
y_box_bot = -20         # Bottom of BOX (top of substrate)
y_si_bot = 0            # Bottom of Si channel (top of BOX)
y_si_top = 20           # Top of Si channel
y_gox_top = 24          # Top of gate oxide (4nm oxide)

# Material parameters
eps_si = 11.7           # Silicon permittivity
eps_ox = 3.9            # SiO2 permittivity

# Doping
N_ch = 1e12             # Channel doping (intrinsic for ambipolar operation)

# Schottky parameters (Ni2Si on Si)
phi_b = 0.55            # Barrier height (eV)
A_n = 112               # Richardson constant electrons (A/cm^2/K^2)
A_p = 32                # Richardson constant holes (A/cm^2/K^2)

# Gate work function
phims_gate = 0.28        # Metal-Si work function difference (Ti gates)
)

[transport parameters]
  electrons  = true
  holes      = true
  N_c0       = 6.24672e15 : 1/cm^3
  N_v0       = 3.5e15     : 1/cm^3
  E_gap      = 1.12       : eV
  dos        = "parabolic"
  dist       = "maxwell"
  reg_A      = 1e-12
  reg_B      = 0.001
  mob        = false
  alpha      =   0.77,   0.70
  beta       =    2.0,    1.0
  mob_min    =   74.5,  122.3 : cm^2/V/s
  mob_max    = 1430.0,  480.0 : cm^2/V/s
  N_ref      = 8.6e16, 1.4e17 : 1/cm^3
  v_sat      =    1e10,  1e10 : cm/s
  curr_fact  = 0.060 : um
  incomp_ion = false
  ii_tau     = 1.0, 1.0 : ps
  ii_E_dop0  = 45.5, 44.39 : meV
  ii_g       = 2.0, 4.0
  ii_N_crit  = 2e19, 2e19 : 1/cm^3
  ii_dop_th  = 1e25, 1e25 : 1/cm^3

[grid]
  gtype  = "xy"
  max_dx = 2.0  : nm
  max_dy = 1.0  : nm

! ============ POISSON REGIONS ============

! Silicon substrate (handle wafer)
[poisson]
  x   = $(x0), $(xL)              : nm
  y   = $(y_sub_bot), $(y_box_bot): nm
  eps = $(eps_si)                 : eps0

! Buried oxide (BOX)
[poisson]
  x   = $(x0), $(xL)              : nm
  y   = $(y_box_bot), $(y_si_bot) : nm
  eps = $(eps_ox)                 : eps0

! Silicon channel
[poisson]
  x   = $(x0), $(xL)              : nm
  y   = $(y_si_bot), $(y_si_top)  : nm
  eps = $(eps_si)                 : eps0

! Gate oxide
[poisson]
  x   = $(x0), $(xL)        : nm
  y   = $(y_si_top), $(y_gox_top) : nm
  eps = $(eps_ox)                 : eps0

! ============ TRANSPORT REGION ============

! Transport only in silicon channel
[transport]
  x = $(x0), $(xL)                : nm
  y = $(y_si_bot), $(y_si_top)    : nm

! ============ DOPING REGIONS ============

! Intrinsic silicon channel (essential for ambipolar RFET operation)
![doping]
!  x    = $(x0), $(xL)             : nm
!  y    = $(y_si_bot), $(y_si_top) : nm
!  dcon = $(N_ch)                  : 1/cm^3

! ============ CONTACTS ============

! Source - Schottky contact (vertical, left edge)
[contact]
  name           = "SRC"
  type           = "schottky"
  phi_b          = $(phi_b)       : eV
  A_richardson_n = $(A_n)         : A/cm^2/K^2
  A_richardson_p = $(A_p)         : A/cm^2/K^2
  ifbl           = false
  tunneling      = true
  x              = $(x0), $(x0)   : nm
  y              = $(y_si_bot), $(y_si_top) : nm

! Drain - Schottky contact (vertical, right edge)
[contact]
  name           = "DRN"
  type           = "schottky"
  phi_b          = $(phi_b)      : eV
  A_richardson_n = $(A_n)         : A/cm^2/K^2
  A_richardson_p = $(A_p)         : A/cm^2/K^2
  ifbl           = false
  tunneling      = true
  x              = $(xL), $(xL)   : nm
  y              = $(y_si_bot), $(y_si_top) : nm

! Source Gate (SG) - above source side (x = 0 to 300 nm)
[contact]
  name  = "SG"
  type  = "gate"
  phims = $(phims_gate)           : V
  x     = $(x0), $(x_sg_end)      : nm
  y     = $(y_gox_top), $(y_gox_top) : nm

! Drain Gate (DG) - above drain side (x = 500 to 800 nm)
[contact]
  name  = "DG"
  type  = "gate"
  phims = $(phims_gate)           : V
  x     = $(x_dg_start), $(xL)    : nm
  y     = $(y_gox_top), $(y_gox_top) : nm

! Substrate contact (grounded) - bottom of handle wafer
[contact]
  name  = "BG"
  type  = "gate"
  phims = 0.0                     : V
  x     = $(x0), $(xL)            : nm
  y     = $(y_sub_bot), $(y_sub_bot) : nm

