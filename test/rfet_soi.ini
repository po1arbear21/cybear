$py(
# Reconfigurable FET on SOI - Device Definition
# Lateral: SG (440nm) - gap (110nm) - DG (440nm)
# Vertical: GOX (3nm) - Si (20nm) - BOX (20nm) - n-well

# Lateral dimensions
L_total = 990       # Total channel length (nm)
L_sg = 440          # Source-gate length
L_gap = 110         # Gap between gates
L_dg = 440          # Drain-gate length

x0 = 0              # Left boundary (source)
x_sg_end = 440      # End of SG region
x_dg_start = 550    # Start of DG region
xL = 990            # Right boundary (drain)

# Vertical dimensions
y_nwell_bot = -40   # Bottom of n-well
y_box_bot = -20     # Bottom of BOX (top of n-well)
y_si_bot = 0        # Bottom of silicon (top of BOX)
y_si_top = 20       # Top of silicon
y_gox_top = 23      # Top of gate oxide

# Material parameters
eps_si = 11.7       # Silicon permittivity
eps_ox = 3.9        # SiO2 permittivity

# Doping
N_ch = 1e14         # Channel doping (undoped, ~intrinsic)
N_nwell = 1e17      # n-well doping

# Schottky parameters
phi_b = 0.65        # Barrier height (eV) for NiSi/Si
A_n = 112           # Richardson constant electrons
A_p = 32            # Richardson constant holes

# Gate work function
phims_gate = 0.0    # Metal-Si work function difference
)

[transport parameters]
  electrons  = true
  holes      = true
  N_c0       = 6.24672e15 : 1/cm^3
  N_v0       = 3.5e15     : 1/cm^3
  E_gap      = 1.12       : eV
  dos        = "parabolic"
  dist       = "maxwell"
  reg_A      = 1e-12
  reg_B      = 0.001
  mob        = false
  alpha      =   0.77,   0.70
  beta       =    2.0,    1.0
  mob_min    =   74.5,  122.3 : cm^2/V/s
  mob_max    = 1430.0,  480.0 : cm^2/V/s
  N_ref      = 8.6e16, 1.4e17 : 1/cm^3
  v_sat      =    1e10,  1e10 : cm/s
  curr_fact  = 1.0 : um
  incomp_ion = false
  ii_tau     = 1.0, 1.0 : ps
  ii_E_dop0  = 45.5, 44.39 : meV
  ii_g       = 2.0, 4.0
  ii_N_crit  = 2e19, 2e19 : 1/cm^3
  ii_dop_th  = 1e25, 1e25 : 1/cm^3

[grid]
  gtype  = "xy"
  max_dx = 1.0  : nm
  max_dy = 1.0  : nm

! ============ POISSON REGIONS ============

! n-well (back-gate substrate)
[poisson]
  x   = $(x0), $(xL)           : nm
  y   = $(y_nwell_bot), $(y_box_bot) : nm
  eps = $(eps_si)              : eps0

! Buried oxide (BOX)
[poisson]
  x   = $(x0), $(xL)           : nm
  y   = $(y_box_bot), $(y_si_bot) : nm
  eps = $(eps_ox)              : eps0

! Silicon channel
[poisson]
  x   = $(x0), $(xL)           : nm
  y   = $(y_si_bot), $(y_si_top) : nm
  eps = $(eps_si)              : eps0

! Gate oxide under SG
[poisson]
  x   = $(x0), $(x_sg_end)     : nm
  y   = $(y_si_top), $(y_gox_top) : nm
  eps = $(eps_ox)              : eps0

! Gate oxide under DG
[poisson]
  x   = $(x_dg_start), $(xL)   : nm
  y   = $(y_si_top), $(y_gox_top) : nm
  eps = $(eps_ox)              : eps0

! ============ TRANSPORT REGION ============

! Transport only in silicon channel
[transport]
  x = $(x0), $(xL)             : nm
  y = $(y_si_bot), $(y_si_top) : nm

! ============ DOPING REGIONS ============

! Undoped silicon channel
[doping]
  x    = $(x0), $(xL)          : nm
  y    = $(y_si_bot), $(y_si_top) : nm
  dcon = $(N_ch)               : 1/cm^3

! n-well doping
[doping]
  x    = $(x0), $(xL)          : nm
  y    = $(y_nwell_bot), $(y_box_bot) : nm
  dcon = $(N_nwell)            : 1/cm^3

! ============ CONTACTS ============

! Source - Schottky contact (vertical, left edge)
[contact]
  name           = "SRC"
  type           = "schottky"
  phi_b          = $(phi_b)    : eV
  A_richardson_n = $(A_n)      : A/cm^2/K^2
  A_richardson_p = $(A_p)      : A/cm^2/K^2
  ifbl           = false
  tunneling      = true
  x              = $(x0), $(x0) : nm
  y              = $(y_si_bot), $(y_si_top) : nm

! Drain - Schottky contact (vertical, right edge)
[contact]
  name           = "DRN"
  type           = "schottky"
  phi_b          = $(phi_b)    : eV
  A_richardson_n = $(A_n)      : A/cm^2/K^2
  A_richardson_p = $(A_p)      : A/cm^2/K^2
  ifbl           = false
  tunneling      = true
  x              = $(xL), $(xL) : nm
  y              = $(y_si_bot), $(y_si_top) : nm

! Source Gate (SG) - above source side
[contact]
  name  = "SG"
  type  = "gate"
  phims = $(phims_gate)        : V
  x     = $(x0), $(x_sg_end)   : nm
  y     = $(y_gox_top), $(y_gox_top) : nm

! Drain Gate (DG) - above drain side
[contact]
  name  = "DG"
  type  = "gate"
  phims = $(phims_gate)        : V
  x     = $(x_dg_start), $(xL) : nm
  y     = $(y_gox_top), $(y_gox_top) : nm

! Back Gate (BG) - bottom of n-well
[contact]
  name  = "BG"
  type  = "gate"
  phims = 0.0                  : V
  x     = $(x0), $(xL)         : nm
  y     = $(y_nwell_bot), $(y_nwell_bot) : nm
