# ============================================================================
# Run Configuration: Vertical Perovskite FET - A07 Project
# ============================================================================

# === Nonlinear Poisson Equation Solver ===
[nlpe params]
  atol   = 1e-9 : V
  dx_lim = 100.0
  min_it = 1
  max_it = 1000

# === Drift-Diffusion Solver ===
[dd params]
  log        = true
  atol       = 1e-15 : cm^-3
  rtol       = 1e-10
  dx_lim     = 5e20  : cm^-3
  min_it     = 2
  max_it     = 200
  ndens-xmin = 1e-80 : cm^-3
  pdens-xmin = 1e-80 : cm^-3

# === Gummel Iteration ===
[gummel params]
  log    = true
  atol   = 1e-3 : V
  rtol   = 1e-6
  min_it = 1
  max_it = 200

# === Full Newton Solver ===
[full newton params]
  log             = true
  atol            = 1e-9 : V
  rtol            = 1e-9
  dx_lim          = 0.1  : V
  min_it          = 2
  max_it          = 100
  currents-dx_lim = 1e300

# ============================================================================
# Simulation Sequence
# ============================================================================

# --- Equilibrium Check ---
# Verify band diagram and potential distribution at zero bias
[steady state]
  name  = "Equilibrium"
  V_GAT = 0.0 : V
  V_SRC = 0.0 : V
  V_DRN = 0.0 : V

# --- Transfer Characteristic ---
# I_D vs V_G at fixed V_D = -2V (forward bias for holes)
# Sign convention: negative V_G -> hole accumulation (p-channel on)
[steady state]
  name  = "Transfer_VD-2V"
  V_SRC = 0.0      : V
  V_DRN = -2.0     : V
  N_GAT = 21
  V_GAT = -5.0, 5.0 : V

# --- Output Characteristics ---
# I_D vs V_D at different V_G (hole accumulation regime)
[steady state]
  name  = "Output_VG-2V"
  V_SRC = 0.0      : V
  V_GAT = -2.0     : V
  N_DRN = 11
  V_DRN = 0.0, -5.0 : V

[steady state]
  name  = "Output_VG-3V"
  V_SRC = 0.0      : V
  V_GAT = -3.0     : V
  N_DRN = 11
  V_DRN = 0.0, -5.0 : V

[steady state]
  name  = "Output_VG-4V"
  V_SRC = 0.0      : V
  V_GAT = -4.0     : V
  N_DRN = 11
  V_DRN = 0.0, -5.0 : V
