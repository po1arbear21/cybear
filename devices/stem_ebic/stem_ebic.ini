! STEM-EBIC Device Configuration

[transport parameters]
  electrons  = true
  holes      = true
  N_c0       = 6.24672e15 : 1/cm^3
  N_v0       = 3.5e15     : 1/cm^3
  E_gap      = 1.12       : eV
  dos        = "parabolic"
  dist       = "maxwell"
  tabledir   = "tables/"
  stab       = "SG"
  reg_A      = 1e-12
  reg_B      = 0.001
  mob        = false
  alpha      =   0.77,   0.70
  beta       =    2.0,    1.0
  mob_min    =   74.5,  122.3 : cm^2/V/s
  mob_max    = 1430.0,  480.0 : cm^2/V/s
  N_ref      = 8.6e16, 1.4e17 : 1/cm^3
  v_sat      =    1e10,  1e10 : cm/s
  curr_fact  = 1.0 : um
  incomp_ion = false
  ii_tau     = 1.0, 1.0 : ps
  ii_E_dop0  = 45.5, 44.39 : meV
  ii_g       = 2.0, 4.0
  ii_N_crit  = 2e19, 2e19 : 1/cm^3
  ii_dop_th  = 1e25, 1e25 : 1/cm^3

  srh        = true           ! Enable SRH recombination
  srh_tau_n  = 1e-6 : s       ! Electron lifetime (1 μs)
  srh_tau_p  = 1e-6 : s       ! Hole lifetime (1 μs)


[grid]
  gtype  = "xy"
  max_dx = 10.0 : nm
  max_dy = 1.0 : nm

! SiO2 oxide on top (100nm thick, y = 1900-2000nm)
[poisson]
  x   = 0.0, 400 : nm
  y   = 1900, 2000 : nm
  eps = 3.9 : eps0

! Silicon region (entire Si from y=0 to y=1900nm)
[poisson]
  x   = 0.0, 400 : nm
  y   = 0.0, 1900 : nm
  eps = 11.7 : eps0

! Single continuous transport region (entire Si)
[transport]
  x = 0.0, 400 : nm
  y = 0.0, 1900 : nm

! p-type doping (above junction at y=400nm)
! Junction ~1500nm below SiO2/Si interface
[doping]
  x    = 0.0, 400 : nm
  y    = 1400, 1900 : nm
  acon = 1e18 : 1/cm^3

! n-type doping (below junction)
[doping]
  x    = 0.0, 400 : nm
  y    = 0.0, 1400 : nm
  dcon = 1e18 : 1/cm^3

! Ohmic contact on p-side (top-right corner)
[contact]
  name = "P_CONTACT"
  type = "ohmic"
  x    = 400, 400 : nm
  y    = 1800, 1900 : nm

! Ohmic contact on n-side (bottom-left corner)
[contact]
  name = "N_CONTACT"
  type = "ohmic"
  x    = 0.0, 0.0 : nm
  y    = 0.0, 100.0 : nm

! EBIC beam - vertical line at device center
[beam]
  x     = 200, 200 : nm        ! Center x position
  y     = 0.0, 1900 : nm       ! Full transport region (no oxide)
  G0    = 1e26 : 1/cm^3/s      ! Generation rate

! Refine around the beam position (x=200nm)
![refine grid]
!  x  = 180, 200 : nm
!   dx = 5.0, 0.5 : nm     ! coarse to ultrafine approaching beam
!   e  = 1.0

! [refine grid]
!   x  = 200, 220 : nm
!   dx = 0.5, 5.0 : nm     ! ultrafine to coarse leaving beam
!   e  = 1.0

! ! Refine around the depletion region (y=1400nm junction)
! [refine grid]
!   y  = 1300, 1400 : nm
!   dy = 1.0, 0.2 : nm     ! fine to ultrafine approaching junction
!   e  = 1.0

! [refine grid]
!   y  = 1400, 1500 : nm
!   dy = 0.2, 1.0 : nm     ! ultrafine to fine leaving junction
!   e  = 1.0
